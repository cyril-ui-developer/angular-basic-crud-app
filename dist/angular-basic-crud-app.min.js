/*! angular-basic-crud-app 05-08-2016 */
!function(){angular.module("webapp",["ui.bootstrap"])}(),function(){"use strict";function a(a,d){function e(){a.open({templateUrl:"templates/create-modal.html",controller:["$uibModalInstance","data",b],controllerAs:"vm",resolve:{data:function(){return g.data}}})}function f(b){a.open({templateUrl:"templates/delete-modal.html",controller:["$uibModalInstance","data","store",c],controllerAs:"vm",resolve:{data:function(){return g.data},store:function(){return b}}})}var g=this;g.animationsEnabled=!0,g.data=[],g.data=d.getData(),g.sortType="name",g.reverse=!1,g.sortFunc=function(a){g.reverse=g.sortType===a&&!g.reverse,g.sortType=a},g.search=function(a){return angular.lowercase(a.name).indexOf(g.query||"")!==-1||angular.uppercase(a.name).indexOf(g.query||"")!==-1||angular.uppercase(a.number).indexOf(g.query||"")!==-1||angular.lowercase(a.number).indexOf(g.query||"")!==-1},g.hideForm=!1,g.hideFormFunc=function(){g.hideForm=!g.hideForm,g.data.name="",g.data.number="",g.data.location=""},g.editProduct=function(a){d.updateProduct(g.number),console.log()},g.createModal=e,g.deleteModal=f}function b(a,b,c){var d=this;d.store=c,d.add={id:0,name:b.name,number:b.number,location:b.location},d.addStore=function(){b.push(d.add),a.close()}}function c(a,b,c){function d(){b.splice(b.indexOf(c),1),a.close()}var e=this;e.store=c,e.deleteStore=d}angular.module("webapp").controller("MainCtlr",a).controller("DeleteModalCtrl",c)}(),function(){"use strict";angular.module("webapp").directive("todoEscape",function(){var a=27;return function(b,c,d){c.bind("keydown",function(c){c.keyCode===a&&b.$apply(d.todoEscape)}),b.$on("$destroy",function(){c.unbind("keydown")})}})}(),function(){"use strict";function a(){var a=[{id:1,name:"Danny",number:"1001",location:"Bentoville"},{id:2,name:"Banny",number:"1002",location:"Centerton"},{id:3,name:"Canny",number:"1003",location:"Rogers"},{id:4,name:"Fanny",number:"1006",location:"Fort Smith"},{id:5,name:"Nanny",number:"1004",location:"Fayetteville"},{id:6,name:"Manny",number:"1005",location:"SpringDale"}],b=function(){if(newId)return newId++,newId;_.max(a,function(a){return a.newId})};return{getData:function(){return a},addData:function(c){a.push(c),c.id=b()},getOneProduct:function(b){var c={};return angular.forEach(a,function(a){if(a.number===parseInt(b.number))return this.store=a},c),c.store},updateProduct:function(a){var b=this.getOneStore(a);return!!b&&(b.name=a.name,b.number=a.number,b.location=a.location,!0)}}}angular.module("webapp").service("dataFactory",a)}();